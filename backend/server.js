const express = require('express');
const { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } = require('@google/generative-ai');
const dotenv = require('dotenv');
const cors = require('cors');
dotenv.config();

const app = express();

const apiKey = process.env.GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);
const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
  systemInstruction: "Remember this json file is your context  {'chunks': [{'boundingBoxes': [{'bottomRightX': 446, 'bottomRightY': 417, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 402}, {'bottomRightX': 1055, 'bottomRightY': 308, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 239}, {'bottomRightX': 333, 'bottomRightY': 204, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 188}, {'bottomRightX': 1138, 'bottomRightY': 1217, 'pageNumber': 1, 'topLeftX': 150, 'topLeftY': 1092}, {'bottomRightX': 1138, 'bottomRightY': 1058, 'pageNumber': 1, 'topLeftX': 148, 'topLeftY': 934}, {'bottomRightX': 388, 'bottomRightY': 896, 'pageNumber': 1, 'topLeftX': 149, 'topLeftY': 880}, {'bottomRightX': 1136, 'bottomRightY': 848, 'pageNumber': 1, 'topLeftX': 149, 'topLeftY': 723}, {'bottomRightX': 626, 'bottomRightY': 690, 'pageNumber': 1, 'topLeftX': 149, 'topLeftY': 667}, {'bottomRightX': 1137, 'bottomRightY': 639, 'pageNumber': 1, 'topLeftX': 150, 'topLeftY': 565}, {'bottomRightX': 1135, 'bottomRightY': 558, 'pageNumber': 1, 'topLeftX': 150, 'topLeftY': 511}, {'bottomRightX': 1136, 'bottomRightY': 479, 'pageNumber': 1, 'topLeftX': 150, 'topLeftY': 432}, {'bottomRightX': 784, 'bottomRightY': 342, 'pageNumber': 1, 'topLeftX': 501, 'topLeftY': 321}, {'bottomRightX': 855, 'bottomRightY': 229, 'pageNumber': 1, 'topLeftX': 479, 'topLeftY': 209}, {'bottomRightX': 878, 'bottomRightY': 201, 'pageNumber': 1, 'topLeftX': 456, 'topLeftY': 154}, {'bottomRightX': 928, 'bottomRightY': 130, 'pageNumber': 1, 'topLeftX': 403, 'topLeftY': 96}, {'bottomRightX': 335, 'bottomRightY': 242, 'pageNumber': 1, 'topLeftX': 260, 'topLeftY': 216}, {'bottomRightX': 330, 'bottomRightY': 166, 'pageNumber': 1, 'topLeftX': 272, 'topLeftY': 122}], 'chunk': 'e3o64s-0', 'contentType': ['paragraph'], 'pageNumbers': [1, 2], 'suggestedText': \"The following text has been minimally enhanced for clarity and context while preserving the original formatting and structure:\\n\\n---\\n\\n**SDA**  \\n**SMART DRIVES AUTOMATION**  \\nPlot No. 1266, 66th Street, Near New Water Tank,  \\nKorattur, Chennai - 600 080  \\nEmail: badri@sdrives.in, admin@sdrives.in  \\n\\n**COMPANY PROFILE**  \\nThe business environment today is tough, challenging, and moving at an exponential pace—but it's also full of opportunities. Technology continues to drive the organizational change agenda, but now it's about making operations smarter, autonomous, and executing on a process. Farsighted companies are already recognizing the convergence of digital, robotics process automation, analytics, and artificial intelligence as never before to leverage automation through the latest digitalization and augmented intelligence.\\n\\n**About SMART DRIVES AUTOMATION (SDA)**  \\nSmart Drives Automation (SDA) is a partnership firm founded and incorporated in 2018. SDA started its operations as a sales and services support provider to leading multinational vendors in the arena of low-voltage (LV) switchgears, industrial automation for programmable logic controllers (PLC), SCADA, HMI, drive and embedded systems, with a special focus on robotics integration and energy management.\\n\\n**About SDA's Partners**  \\n- **Mr. N.R. Badrinath** has more than two decades of experience in industrial automation. Prior to starting SDA, Mr. N.R. Badrinath was associated with Schneider Electric India for more than 10 years, where he handled multiple divisions. He has vast knowledge in smart sourcing and execution. His ability to understand the implicit and explicit needs of clients and deliver a holistic solution translates their exact vision into reality.\\n\\n- **Mr. A.R. Rajagopalan** is an industry veteran with more than two decades of business experience, having his footprints in IT automation, retail, and the services sector. His strong entrepreneurship skills and business acumen will help SDA strengthen and steer its business in a well-organized and structured way. Additionally, his vast knowledge in IT will help SDA customers leverage their system integration requirements in an efficient and cost-effective manner to meet their budgetary scales.\\n\\n**SDA's Mission**  \\nPrincipled in thinking and sincere in approach, we at SDA ensure that all projects are conceived with the best benefits for the customers in mind and are implemented within agreed-upon time scales and budgets, thus providing value to our customers.\\n\\n**SDA Products & Services**\\n\\n---\\n\\nThis version maintains the original content, structure, and formatting while making minimal adjustments for clarity and completeness.\", 'text': \"ន\\nSDA\\nSMART DRIVES AUTOMATION\\nPlot No.1266 , 66th Street , Near New Water Tank ,\\n Korattur , Chennai - 600 080\\nEmail : badri@sdrives.in , admin@sdrives.in\\nCOMPANY PROFILE\\nThe business environment today is tough , challenging , and moving at an exponential\\n pace - but it's also full of opportunities .\\nTechnology continues to drive the organizational change agenda , but now it's about making\\n operations smarter , autonomous and executing on a process .\\nFarsighted companies are already recognizing the convergence of digital , robotics process\\n automation , analytics and artificial intelligence as never before to leverage automation through\\n latest digitalization and augmented intelligence .\\nAbout SMART DRIVES AUTOMATION ( SDA )\\nSmart Drives Automation ( SDA ) is a partnership firm founded and incorporated in 2018.SDA\\n started it's operations as a sales and services support provider to leading multi - national vendors\\n in the arena of LV . Switchgears , industrial automation for programmable logic controllers ( PLC ) ,\\n SCADA , HMI & drive and embedded systems with a special focus on robotics integration and\\n Energy Management .\\nAbout SDA's Partners\\nMr.N.R.Badrinath has more than two decades of experience in Industrial Automation . Prior to\\n starting SDA , Mr.N.R.Badrinath was associated with Schneider India for more than 10 years\\n where he handled multiple divisions . He has vast knowledge in smart sourcing and execution . His\\n ability to understand the implicit and explicit needs of clients and deliver a holistic solution\\n translates their exact vision to reality .\\nMr.A.R.Rajagopalan is an industry veteran with more than 2 decades of business experience has\\n his footprints in IT Automation , retail and services sector . His strong entrepreneurship skills and\\n business acumen will help SDA to strengthen and steer its business in a well - organized and\\n structured way . Also , his vast knowledge in IT will help SDA customers to leverage their system\\n integration requirements in an efficient and cost effective manner to meet their budgetary scales\\nSDA's Mission\\nPrincipled in thinking and sincere in approach , we at SDA ensure that all projects are\\n conceived keeping in mind the best benefits for the customers and are implemented within\\n agreed upon time scales and budgets thus providing value to our customers .\\nSDA Products & Services\"}, {'boundingBoxes': [{'bottomRightX': 1116, 'bottomRightY': 825, 'pageNumber': 2, 'topLeftX': 211, 'topLeftY': 452}], 'chunk': 'k3cey0-0', 'contentType': ['table'], 'json': [{'description': 'This table lists various products and services offered by SDA, along with the corresponding brands and remarks about the sales or solutions provided.', 'table_number': '1', 'title': 'Products & Services Table'}, {'Brand': 'Schneider, Siemens, ABB', 'Products & Services': 'LV Switchgear', 'Remarks': 'Product sales'}, {'Brand': 'Schneider, Mitsubishi, Siemens, Rockwell', 'Products & Services': 'PLC', 'Remarks': 'Product and solution sales'}, {'Brand': 'Schneider, ABB, Mitsubishi', 'Products & Services': 'VFD', 'Remarks': 'Product and solution sales'}, {'Brand': 'Schneider, Mitsubishi, Siemens', 'Products & Services': 'HMI', 'Remarks': 'Product sales'}, {'Brand': 'Schneider', 'Products & Services': 'SCADA', 'Remarks': 'Product sales (customer based)'}, {'Brand': 'Autonics, Honeywell, Fuji', 'Products & Services': 'PID Controllers', 'Remarks': 'Product sales'}, {'Brand': 'Honeywell, ABB, Emerson', 'Products & Services': 'Process Controllers', 'Remarks': 'Product sales'}, {'Brand': 'Schneider, Elmeasure', 'Products & Services': 'Energy Management Systems', 'Remarks': 'Product and solution sales'}, {'Brand': 'HT Panels, PCC, MCC, PLC, VSD Panels, Control desk', 'Products & Services': 'Panels', 'Remarks': 'Products sales based on client needs'}], 'multimodalUrl': 'https://upload.eyelevel.ai/layout/raw/prod/1a31c930-b727-40d8-9b20-0337ff71bd7f/83c07a6b-3a36-4b43-94a1-82290a6f6cd0/table-2-0.jpg', 'narrative': ['The following table contains products and services offered by SDA, along with the associated brands and remarks about the type of sales or solutions provided. LV Switchgear is offered by Schneider, Siemens, and ABB, with product sales. PLC is provided by Schneider, Mitsubishi, Siemens, and Rockwell, with both product and solution sales. VFD is available from Schneider, ABB, and Mitsubishi, also with product and solution sales. HMI is offered by Schneider, Mitsubishi, and Siemens, with product sales. SCADA is provided by Schneider with customer-based product sales. PID Controllers are available from Autonics, Honeywell, and Fuji, with product sales. Process Controllers are offered by Honeywell, ABB, and Emerson, with product sales. Energy Management Systems are provided by Schneider and Elmeasure, with both product and solution sales. Lastly, various panels, including HT Panels, PCC, MCC, PLC, VSD Panels, and Control desks, are available with sales based on client needs.'], 'pageNumbers': [2], 'suggestedText': '{\"table_number\": \"1\", \"title\": \"Products & Services Table\", \"description\": \"This table lists various products and services offered by SDA, along with the corresponding brands and remarks about the sales or solutions provided.\"}\\n{\"Products & Services\": \"LV Switchgear\", \"Brand\": \"Schneider, Siemens, ABB\", \"Remarks\": \"Product sales\"}\\n{\"Products & Services\": \"PLC\", \"Brand\": \"Schneider, Mitsubishi, Siemens, Rockwell\", \"Remarks\": \"Product and solution sales\"}\\n{\"Products & Services\": \"VFD\", \"Brand\": \"Schneider, ABB, Mitsubishi\", \"Remarks\": \"Product and solution sales\"}\\n{\"Products & Services\": \"HMI\", \"Brand\": \"Schneider, Mitsubishi, Siemens\", \"Remarks\": \"Product sales\"}\\n{\"Products & Services\": \"SCADA\", \"Brand\": \"Schneider\", \"Remarks\": \"Product sales (customer based)\"}\\n{\"Products & Services\": \"PID Controllers\", \"Brand\": \"Autonics, Honeywell, Fuji\", \"Remarks\": \"Product sales\"}\\n{\"Products & Services\": \"Process Controllers\", \"Brand\": \"Honeywell, ABB, Emerson\", \"Remarks\": \"Product sales\"}\\n{\"Products & Services\": \"Energy Management Systems\", \"Brand\": \"Schneider, Elmeasure\", \"Remarks\": \"Product and solution sales\"}\\n{\"Products & Services\": \"Panels\", \"Brand\": \"HT Panels, PCC, MCC, PLC, VSD Panels, Control desk\", \"Remarks\": \"Products sales based on client needs\"}\\n\\nThe following table contains products and services offered by SDA, along with the associated brands and remarks about the type of sales or solutions provided. LV Switchgear is offered by Schneider, Siemens, and ABB, with product sales. PLC is provided by Schneider, Mitsubishi, Siemens, and Rockwell, with both product and solution sales. VFD is available from Schneider, ABB, and Mitsubishi, also with product and solution sales. HMI is offered by Schneider, Mitsubishi, and Siemens, with product sales. SCADA is provided by Schneider with customer-based product sales. PID Controllers are available from Autonics, Honeywell, and Fuji, with product sales. Process Controllers are offered by Honeywell, ABB, and Emerson, with product sales. Energy Management Systems are provided by Schneider and Elmeasure, with both product and solution sales. Lastly, various panels, including HT Panels, PCC, MCC, PLC, VSD Panels, and Control desks, are available with sales based on client needs.', 'text': 'Products & Services\\t|\\tBrand\\t|\\tRemarks\\nLV Switchgear\\t|\\tSchneider , Siemens , ABB\\t|\\tProduct sales\\nPLC\\t|\\tSchneider , Mitsubishi ,\\t|\\tProduct and solution sales\\n\\t|\\tSiemens , Rockwell\\nVFD\\t|\\tSchneider , ABB , Mitsubishi\\t|\\tProduct and solution sales\\nHMI\\t|\\tSchneider , Mitsubishi ,\\t|\\tProduct sales\\n\\t|\\tSiemens ,\\nSCADA\\t|\\tSchneider ,\\t|\\tProduct sales ( customer based )\\nPID Controllers\\t|\\tAutonics , Honeywell , Fuji\\t|\\tProduct sales\\nProcess Controllers\\t|\\tHoneywell , ABB , Emerson\\t|\\tProduct sales\\nEnergy Management\\t|\\tSchneider , Elmeasure\\t|\\tProduct and solution sales\\nSystems\\n\\t|\\tHT Panels , PCC , MCC , PLC ,\\nPanels\\t|\\tVSD Panels , Control\\t|\\tProducts sales based on\\n\\t|\\tdesk\\t|\\tclient needs'}, {'boundingBoxes': [{'bottomRightX': 1021, 'bottomRightY': 1404, 'pageNumber': 2, 'topLeftX': 249, 'topLeftY': 1358}, {'bottomRightX': 463, 'bottomRightY': 1347, 'pageNumber': 2, 'topLeftX': 248, 'topLeftY': 1331}, {'bottomRightX': 219, 'bottomRightY': 1370, 'pageNumber': 2, 'topLeftX': 212, 'topLeftY': 1363}, {'bottomRightX': 959, 'bottomRightY': 1300, 'pageNumber': 2, 'topLeftX': 184, 'topLeftY': 1233}, {'bottomRightX': 281, 'bottomRightY': 1201, 'pageNumber': 2, 'topLeftX': 183, 'topLeftY': 1179}, {'bottomRightX': 1017, 'bottomRightY': 1151, 'pageNumber': 2, 'topLeftX': 184, 'topLeftY': 1060}, {'bottomRightX': 298, 'bottomRightY': 1025, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 1010}, {'bottomRightX': 1008, 'bottomRightY': 978, 'pageNumber': 2, 'topLeftX': 184, 'topLeftY': 912}, {'bottomRightX': 278, 'bottomRightY': 875, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 860}], 'chunk': 'or9whb-23', 'contentType': ['paragraph'], 'pageNumbers': [2], 'suggestedText': \"The following text has been minimally enhanced to ensure clarity and completeness while preserving the original formatting and intent:\\n\\n---\\n\\n**Our Goal**  \\nSmart Drives Automation's (SDA) goal is to provide customers with timely and high-quality sales and service support, utilizing the latest technological innovations and offering competitive pricing. Our aim is to deliver the most complete solutions, ensuring the utmost customer satisfaction.\\n\\n**Our Values**  \\nSDA is committed to maintaining professional ethics and moral values, leaving no stone unturned to ensure complete client satisfaction. We believe in the power of team spirit and teamwork. We will foster an environment of mutual respect and professionalism at all times.\\n\\n**Why SDA**  \\nAt SDA, we adhere to a unique philosophy in providing industrial automation services to our clients, backed by unwavering dedication to its practice. The essence of this philosophy includes the following:\\n\\n• **Commitment to Deliver**  \\n  We aim to establish hassle-free, trust-based, and result-oriented relationships with all stakeholders.  \\n  We are driven by customer requirements.\\n\\n---\\n\\nThis version clarifies the company's name (SDA) and its full form, Smart Drives Automation, and ensures that the key points about the company's goals, values, and philosophy are self-explanatory. The original formatting, including bullet points and spacing, has been preserved.\", 'text': \"Our Goal\\nSDA's goal is to provide customers with timely and quality sales and service support\\n with the latest technological innovations and competitive pricing to give customers the\\n most complete solution to their utmost satisfaction .\\nOur Values\\nSDA will maintain its professional ethics and moral values and will leave no stone\\n unturned to assure complete client satisfaction . We believe in the power of team spirit\\n and team work . We will ensure an environment of mutual respect and professionalism\\n throughout .\\nWhy SDA\\nAt SDA , we believe in a unique philosophy toward providing industrial automation\\n services to our clients , backed by an unflinching dedication to its practice . The\\n essence of this is the following :\\n•\\nCommitment to deliver\\nEnter into hassle - free , trust - based and result - oriented relationships with stakeholders\\n Be driven by customer requirements .\"}], 'fileType': 'pdf', 'language': 'English', 'fileKeywords': 'SDA+201920+Profile.pdf,SDA, Smart Drives Automation, SDA 2018, SDA profile, SDA company profile, SDA 2019, industrial automation, automation services, LV switchgear, programmable logic controllers, PLC, SCADA, HMI, robotics integration, energy management systems, automation solutions, automation technology, automation products, Schneider Electric, Siemens, ABB, Mitsubishi, automation brands, customer satisfaction, professional services, automation expertise, N.R. Badrinath, A.R. Rajagopalan, automation leadership, IT automation, industrial automation experts, automation partnerships, SDA mission, innovative solutions, cost-effective automation, automation industry, automation in India, automation firm, automation company, automation sales, automation support, automation consulting, automation engineering, automation integration, automation systems, automation equipment, automation technology providers, SDA 2019 document, SDA PDF, SDA file, SDA company overview, automation business, automation market, automation trends, automation specialists, SDA services, SDA products, SDA partners, SDA leadership, SDA founders, SDA brands, automation ethics, automation professionalism, automation customer focus, automation innovation, automation cost-efficiency, automation technology integration.', 'fileName': 'SDA+201920+Profile.pdf', 'documentPages': [{'chunks': [{'boundingBoxes': [{'bottomRightX': 1138, 'bottomRightY': 1217, 'pageNumber': 1, 'topLeftX': 150, 'topLeftY': 1092}, {'bottomRightX': 1138, 'bottomRightY': 1058, 'pageNumber': 1, 'topLeftX': 148, 'topLeftY': 934}, {'bottomRightX': 388, 'bottomRightY': 896, 'pageNumber': 1, 'topLeftX': 149, 'topLeftY': 880}, {'bottomRightX': 1136, 'bottomRightY': 848, 'pageNumber': 1, 'topLeftX': 149, 'topLeftY': 723}, {'bottomRightX': 626, 'bottomRightY': 690, 'pageNumber': 1, 'topLeftX': 149, 'topLeftY': 667}, {'bottomRightX': 1137, 'bottomRightY': 639, 'pageNumber': 1, 'topLeftX': 150, 'topLeftY': 565}, {'bottomRightX': 1135, 'bottomRightY': 558, 'pageNumber': 1, 'topLeftX': 150, 'topLeftY': 511}, {'bottomRightX': 1136, 'bottomRightY': 479, 'pageNumber': 1, 'topLeftX': 150, 'topLeftY': 432}, {'bottomRightX': 784, 'bottomRightY': 342, 'pageNumber': 1, 'topLeftX': 501, 'topLeftY': 321}, {'bottomRightX': 855, 'bottomRightY': 229, 'pageNumber': 1, 'topLeftX': 479, 'topLeftY': 209}, {'bottomRightX': 878, 'bottomRightY': 201, 'pageNumber': 1, 'topLeftX': 456, 'topLeftY': 154}, {'bottomRightX': 928, 'bottomRightY': 130, 'pageNumber': 1, 'topLeftX': 403, 'topLeftY': 96}, {'bottomRightX': 335, 'bottomRightY': 242, 'pageNumber': 1, 'topLeftX': 260, 'topLeftY': 216}, {'bottomRightX': 330, 'bottomRightY': 166, 'pageNumber': 1, 'topLeftX': 272, 'topLeftY': 122}], 'chunk': 'e3o64s-0', 'contentType': ['paragraph'], 'pageNumbers': [1, 2], 'suggestedText': \"The following text has been minimally enhanced for clarity and context while preserving the original formatting and structure:\\n\\n---\\n\\n**SDA**  \\n**SMART DRIVES AUTOMATION**  \\nPlot No. 1266, 66th Street, Near New Water Tank,  \\nKorattur, Chennai - 600 080  \\nEmail: badri@sdrives.in, admin@sdrives.in  \\n\\n**COMPANY PROFILE**  \\nThe business environment today is tough, challenging, and moving at an exponential pace—but it's also full of opportunities. Technology continues to drive the organizational change agenda, but now it's about making operations smarter, autonomous, and executing on a process. Farsighted companies are already recognizing the convergence of digital, robotics process automation, analytics, and artificial intelligence as never before to leverage automation through the latest digitalization and augmented intelligence.\\n\\n**About SMART DRIVES AUTOMATION (SDA)**  \\nSmart Drives Automation (SDA) is a partnership firm founded and incorporated in 2018. SDA started its operations as a sales and services support provider to leading multinational vendors in the arena of low-voltage (LV) switchgears, industrial automation for programmable logic controllers (PLC), SCADA, HMI, drive and embedded systems, with a special focus on robotics integration and energy management.\\n\\n**About SDA's Partners**  \\n- **Mr. N.R. Badrinath** has more than two decades of experience in industrial automation. Prior to starting SDA, Mr. N.R. Badrinath was associated with Schneider Electric India for more than 10 years, where he handled multiple divisions. He has vast knowledge in smart sourcing and execution. His ability to understand the implicit and explicit needs of clients and deliver a holistic solution translates their exact vision into reality.\\n\\n- **Mr. A.R. Rajagopalan** is an industry veteran with more than two decades of business experience, having his footprints in IT automation, retail, and the services sector. His strong entrepreneurship skills and business acumen will help SDA strengthen and steer its business in a well-organized and structured way. Additionally, his vast knowledge in IT will help SDA customers leverage their system integration requirements in an efficient and cost-effective manner to meet their budgetary scales.\\n\\n**SDA's Mission**  \\nPrincipled in thinking and sincere in approach, we at SDA ensure that all projects are conceived with the best benefits for the customers in mind and are implemented within agreed-upon time scales and budgets, thus providing value to our customers.\\n\\n**SDA Products & Services**\\n\\n---\\n\\nThis version maintains the original content, structure, and formatting while making minimal adjustments for clarity and completeness.\", 'text': \"ន\\nSDA\\nSMART DRIVES AUTOMATION\\nPlot No.1266 , 66th Street , Near New Water Tank ,\\n Korattur , Chennai - 600 080\\nEmail : badri@sdrives.in , admin@sdrives.in\\nCOMPANY PROFILE\\nThe business environment today is tough , challenging , and moving at an exponential\\n pace - but it's also full of opportunities .\\nTechnology continues to drive the organizational change agenda , but now it's about making\\n operations smarter , autonomous and executing on a process .\\nFarsighted companies are already recognizing the convergence of digital , robotics process\\n automation , analytics and artificial intelligence as never before to leverage automation through\\n latest digitalization and augmented intelligence .\\nAbout SMART DRIVES AUTOMATION ( SDA )\\nSmart Drives Automation ( SDA ) is a partnership firm founded and incorporated in 2018.SDA\\n started it's operations as a sales and services support provider to leading multi - national vendors\\n in the arena of LV . Switchgears , industrial automation for programmable logic controllers ( PLC ) ,\\n SCADA , HMI & drive and embedded systems with a special focus on robotics integration and\\n Energy Management .\\nAbout SDA's Partners\\nMr.N.R.Badrinath has more than two decades of experience in Industrial Automation . Prior to\\n starting SDA , Mr.N.R.Badrinath was associated with Schneider India for more than 10 years\\n where he handled multiple divisions . He has vast knowledge in smart sourcing and execution . His\\n ability to understand the implicit and explicit needs of clients and deliver a holistic solution\\n translates their exact vision to reality .\\nMr.A.R.Rajagopalan is an industry veteran with more than 2 decades of business experience has\\n his footprints in IT Automation , retail and services sector . His strong entrepreneurship skills and\\n business acumen will help SDA to strengthen and steer its business in a well - organized and\\n structured way . Also , his vast knowledge in IT will help SDA customers to leverage their system\\n integration requirements in an efficient and cost effective manner to meet their budgetary scales\\nSDA's Mission\\nPrincipled in thinking and sincere in approach , we at SDA ensure that all projects are\\n conceived keeping in mind the best benefits for the customers and are implemented within\\n agreed upon time scales and budgets thus providing value to our customers .\\nSDA Products & Services\"}], 'height': 1651, 'pageNumber': 1, 'pageUrl': 'https://upload.eyelevel.ai/layout/raw/prod/1a31c930-b727-40d8-9b20-0337ff71bd7f/83c07a6b-3a36-4b43-94a1-82290a6f6cd0/1.jpg', 'width': 1275}, {'chunks': [{'boundingBoxes': [{'bottomRightX': 446, 'bottomRightY': 417, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 402}, {'bottomRightX': 1055, 'bottomRightY': 308, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 239}, {'bottomRightX': 333, 'bottomRightY': 204, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 188}], 'chunk': 'e3o64s-0', 'contentType': ['paragraph'], 'pageNumbers': [1, 2], 'suggestedText': \"The following text has been minimally enhanced for clarity and context while preserving the original formatting and structure:\\n\\n---\\n\\n**SDA**  \\n**SMART DRIVES AUTOMATION**  \\nPlot No. 1266, 66th Street, Near New Water Tank,  \\nKorattur, Chennai - 600 080  \\nEmail: badri@sdrives.in, admin@sdrives.in  \\n\\n**COMPANY PROFILE**  \\nThe business environment today is tough, challenging, and moving at an exponential pace—but it's also full of opportunities. Technology continues to drive the organizational change agenda, but now it's about making operations smarter, autonomous, and executing on a process. Farsighted companies are already recognizing the convergence of digital, robotics process automation, analytics, and artificial intelligence as never before to leverage automation through the latest digitalization and augmented intelligence.\\n\\n**About SMART DRIVES AUTOMATION (SDA)**  \\nSmart Drives Automation (SDA) is a partnership firm founded and incorporated in 2018. SDA started its operations as a sales and services support provider to leading multinational vendors in the arena of low-voltage (LV) switchgears, industrial automation for programmable logic controllers (PLC), SCADA, HMI, drive and embedded systems, with a special focus on robotics integration and energy management.\\n\\n**About SDA's Partners**  \\n- **Mr. N.R. Badrinath** has more than two decades of experience in industrial automation. Prior to starting SDA, Mr. N.R. Badrinath was associated with Schneider Electric India for more than 10 years, where he handled multiple divisions. He has vast knowledge in smart sourcing and execution. His ability to understand the implicit and explicit needs of clients and deliver a holistic solution translates their exact vision into reality.\\n\\n- **Mr. A.R. Rajagopalan** is an industry veteran with more than two decades of business experience, having his footprints in IT automation, retail, and the services sector. His strong entrepreneurship skills and business acumen will help SDA strengthen and steer its business in a well-organized and structured way. Additionally, his vast knowledge in IT will help SDA customers leverage their system integration requirements in an efficient and cost-effective manner to meet their budgetary scales.\\n\\n**SDA's Mission**  \\nPrincipled in thinking and sincere in approach, we at SDA ensure that all projects are conceived with the best benefits for the customers in mind and are implemented within agreed-upon time scales and budgets, thus providing value to our customers.\\n\\n**SDA Products & Services**\\n\\n---\\n\\nThis version maintains the original content, structure, and formatting while making minimal adjustments for clarity and completeness.\", 'text': \"ន\\nSDA\\nSMART DRIVES AUTOMATION\\nPlot No.1266 , 66th Street , Near New Water Tank ,\\n Korattur , Chennai - 600 080\\nEmail : badri@sdrives.in , admin@sdrives.in\\nCOMPANY PROFILE\\nThe business environment today is tough , challenging , and moving at an exponential\\n pace - but it's also full of opportunities .\\nTechnology continues to drive the organizational change agenda , but now it's about making\\n operations smarter , autonomous and executing on a process .\\nFarsighted companies are already recognizing the convergence of digital , robotics process\\n automation , analytics and artificial intelligence as never before to leverage automation through\\n latest digitalization and augmented intelligence .\\nAbout SMART DRIVES AUTOMATION ( SDA )\\nSmart Drives Automation ( SDA ) is a partnership firm founded and incorporated in 2018.SDA\\n started it's operations as a sales and services support provider to leading multi - national vendors\\n in the arena of LV . Switchgears , industrial automation for programmable logic controllers ( PLC ) ,\\n SCADA , HMI & drive and embedded systems with a special focus on robotics integration and\\n Energy Management .\\nAbout SDA's Partners\\nMr.N.R.Badrinath has more than two decades of experience in Industrial Automation . Prior to\\n starting SDA , Mr.N.R.Badrinath was associated with Schneider India for more than 10 years\\n where he handled multiple divisions . He has vast knowledge in smart sourcing and execution . His\\n ability to understand the implicit and explicit needs of clients and deliver a holistic solution\\n translates their exact vision to reality .\\nMr.A.R.Rajagopalan is an industry veteran with more than 2 decades of business experience has\\n his footprints in IT Automation , retail and services sector . His strong entrepreneurship skills and\\n business acumen will help SDA to strengthen and steer its business in a well - organized and\\n structured way . Also , his vast knowledge in IT will help SDA customers to leverage their system\\n integration requirements in an efficient and cost effective manner to meet their budgetary scales\\nSDA's Mission\\nPrincipled in thinking and sincere in approach , we at SDA ensure that all projects are\\n conceived keeping in mind the best benefits for the customers and are implemented within\\n agreed upon time scales and budgets thus providing value to our customers .\\nSDA Products & Services\"}, {'boundingBoxes': [{'bottomRightX': 1116, 'bottomRightY': 825, 'pageNumber': 2, 'topLeftX': 211, 'topLeftY': 452}], 'chunk': 'k3cey0-0', 'contentType': ['table'], 'json': [{'description': 'This table lists various products and services offered by SDA, along with the corresponding brands and remarks about the sales or solutions provided.', 'table_number': '1', 'title': 'Products & Services Table'}, {'Brand': 'Schneider, Siemens, ABB', 'Products & Services': 'LV Switchgear', 'Remarks': 'Product sales'}, {'Brand': 'Schneider, Mitsubishi, Siemens, Rockwell', 'Products & Services': 'PLC', 'Remarks': 'Product and solution sales'}, {'Brand': 'Schneider, ABB, Mitsubishi', 'Products & Services': 'VFD', 'Remarks': 'Product and solution sales'}, {'Brand': 'Schneider, Mitsubishi, Siemens', 'Products & Services': 'HMI', 'Remarks': 'Product sales'}, {'Brand': 'Schneider', 'Products & Services': 'SCADA', 'Remarks': 'Product sales (customer based)'}, {'Brand': 'Autonics, Honeywell, Fuji', 'Products & Services': 'PID Controllers', 'Remarks': 'Product sales'}, {'Brand': 'Honeywell, ABB, Emerson', 'Products & Services': 'Process Controllers', 'Remarks': 'Product sales'}, {'Brand': 'Schneider, Elmeasure', 'Products & Services': 'Energy Management Systems', 'Remarks': 'Product and solution sales'}, {'Brand': 'HT Panels, PCC, MCC, PLC, VSD Panels, Control desk', 'Products & Services': 'Panels', 'Remarks': 'Products sales based on client needs'}], 'multimodalUrl': 'https://upload.eyelevel.ai/layout/raw/prod/1a31c930-b727-40d8-9b20-0337ff71bd7f/83c07a6b-3a36-4b43-94a1-82290a6f6cd0/table-2-0.jpg', 'narrative': ['The following table contains products and services offered by SDA, along with the associated brands and remarks about the type of sales or solutions provided. LV Switchgear is offered by Schneider, Siemens, and ABB, with product sales. PLC is provided by Schneider, Mitsubishi, Siemens, and Rockwell, with both product and solution sales. VFD is available from Schneider, ABB, and Mitsubishi, also with product and solution sales. HMI is offered by Schneider, Mitsubishi, and Siemens, with product sales. SCADA is provided by Schneider with customer-based product sales. PID Controllers are available from Autonics, Honeywell, and Fuji, with product sales. Process Controllers are offered by Honeywell, ABB, and Emerson, with product sales. Energy Management Systems are provided by Schneider and Elmeasure, with both product and solution sales. Lastly, various panels, including HT Panels, PCC, MCC, PLC, VSD Panels, and Control desks, are available with sales based on client needs.'], 'pageNumbers': [2], 'suggestedText': '{\"table_number\": \"1\", \"title\": \"Products & Services Table\", \"description\": \"This table lists various products and services offered by SDA, along with the corresponding brands and remarks about the sales or solutions provided.\"}\\n{\"Products & Services\": \"LV Switchgear\", \"Brand\": \"Schneider, Siemens, ABB\", \"Remarks\": \"Product sales\"}\\n{\"Products & Services\": \"PLC\", \"Brand\": \"Schneider, Mitsubishi, Siemens, Rockwell\", \"Remarks\": \"Product and solution sales\"}\\n{\"Products & Services\": \"VFD\", \"Brand\": \"Schneider, ABB, Mitsubishi\", \"Remarks\": \"Product and solution sales\"}\\n{\"Products & Services\": \"HMI\", \"Brand\": \"Schneider, Mitsubishi, Siemens\", \"Remarks\": \"Product sales\"}\\n{\"Products & Services\": \"SCADA\", \"Brand\": \"Schneider\", \"Remarks\": \"Product sales (customer based)\"}\\n{\"Products & Services\": \"PID Controllers\", \"Brand\": \"Autonics, Honeywell, Fuji\", \"Remarks\": \"Product sales\"}\\n{\"Products & Services\": \"Process Controllers\", \"Brand\": \"Honeywell, ABB, Emerson\", \"Remarks\": \"Product sales\"}\\n{\"Products & Services\": \"Energy Management Systems\", \"Brand\": \"Schneider, Elmeasure\", \"Remarks\": \"Product and solution sales\"}\\n{\"Products & Services\": \"Panels\", \"Brand\": \"HT Panels, PCC, MCC, PLC, VSD Panels, Control desk\", \"Remarks\": \"Products sales based on client needs\"}\\n\\nThe following table contains products and services offered by SDA, along with the associated brands and remarks about the type of sales or solutions provided. LV Switchgear is offered by Schneider, Siemens, and ABB, with product sales. PLC is provided by Schneider, Mitsubishi, Siemens, and Rockwell, with both product and solution sales. VFD is available from Schneider, ABB, and Mitsubishi, also with product and solution sales. HMI is offered by Schneider, Mitsubishi, and Siemens, with product sales. SCADA is provided by Schneider with customer-based product sales. PID Controllers are available from Autonics, Honeywell, and Fuji, with product sales. Process Controllers are offered by Honeywell, ABB, and Emerson, with product sales. Energy Management Systems are provided by Schneider and Elmeasure, with both product and solution sales. Lastly, various panels, including HT Panels, PCC, MCC, PLC, VSD Panels, and Control desks, are available with sales based on client needs.', 'text': 'Products & Services\\t|\\tBrand\\t|\\tRemarks\\nLV Switchgear\\t|\\tSchneider , Siemens , ABB\\t|\\tProduct sales\\nPLC\\t|\\tSchneider , Mitsubishi ,\\t|\\tProduct and solution sales\\n\\t|\\tSiemens , Rockwell\\nVFD\\t|\\tSchneider , ABB , Mitsubishi\\t|\\tProduct and solution sales\\nHMI\\t|\\tSchneider , Mitsubishi ,\\t|\\tProduct sales\\n\\t|\\tSiemens ,\\nSCADA\\t|\\tSchneider ,\\t|\\tProduct sales ( customer based )\\nPID Controllers\\t|\\tAutonics , Honeywell , Fuji\\t|\\tProduct sales\\nProcess Controllers\\t|\\tHoneywell , ABB , Emerson\\t|\\tProduct sales\\nEnergy Management\\t|\\tSchneider , Elmeasure\\t|\\tProduct and solution sales\\nSystems\\n\\t|\\tHT Panels , PCC , MCC , PLC ,\\nPanels\\t|\\tVSD Panels , Control\\t|\\tProducts sales based on\\n\\t|\\tdesk\\t|\\tclient needs'}, {'boundingBoxes': [{'bottomRightX': 1021, 'bottomRightY': 1404, 'pageNumber': 2, 'topLeftX': 249, 'topLeftY': 1358}, {'bottomRightX': 463, 'bottomRightY': 1347, 'pageNumber': 2, 'topLeftX': 248, 'topLeftY': 1331}, {'bottomRightX': 219, 'bottomRightY': 1370, 'pageNumber': 2, 'topLeftX': 212, 'topLeftY': 1363}, {'bottomRightX': 959, 'bottomRightY': 1300, 'pageNumber': 2, 'topLeftX': 184, 'topLeftY': 1233}, {'bottomRightX': 281, 'bottomRightY': 1201, 'pageNumber': 2, 'topLeftX': 183, 'topLeftY': 1179}, {'bottomRightX': 1017, 'bottomRightY': 1151, 'pageNumber': 2, 'topLeftX': 184, 'topLeftY': 1060}, {'bottomRightX': 298, 'bottomRightY': 1025, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 1010}, {'bottomRightX': 1008, 'bottomRightY': 978, 'pageNumber': 2, 'topLeftX': 184, 'topLeftY': 912}, {'bottomRightX': 278, 'bottomRightY': 875, 'pageNumber': 2, 'topLeftX': 185, 'topLeftY': 860}], 'chunk': 'or9whb-23', 'contentType': ['paragraph'], 'pageNumbers': [2], 'suggestedText': \"The following text has been minimally enhanced to ensure clarity and completeness while preserving the original formatting and intent:\\n\\n---\\n\\n**Our Goal**  \\nSmart Drives Automation's (SDA) goal is to provide customers with timely and high-quality sales and service support, utilizing the latest technological innovations and offering competitive pricing. Our aim is to deliver the most complete solutions, ensuring the utmost customer satisfaction.\\n\\n**Our Values**  \\nSDA is committed to maintaining professional ethics and moral values, leaving no stone unturned to ensure complete client satisfaction. We believe in the power of team spirit and teamwork. We will foster an environment of mutual respect and professionalism at all times.\\n\\n**Why SDA**  \\nAt SDA, we adhere to a unique philosophy in providing industrial automation services to our clients, backed by unwavering dedication to its practice. The essence of this philosophy includes the following:\\n\\n• **Commitment to Deliver**  \\n  We aim to establish hassle-free, trust-based, and result-oriented relationships with all stakeholders.  \\n  We are driven by customer requirements.\\n\\n---\\n\\nThis version clarifies the company's name (SDA) and its full form, Smart Drives Automation, and ensures that the key points about the company's goals, values, and philosophy are self-explanatory. The original formatting, including bullet points and spacing, has been preserved.\", 'text': \"Our Goal\\nSDA's goal is to provide customers with timely and quality sales and service support\\n with the latest technological innovations and competitive pricing to give customers the\\n most complete solution to their utmost satisfaction .\\nOur Values\\nSDA will maintain its professional ethics and moral values and will leave no stone\\n unturned to assure complete client satisfaction . We believe in the power of team spirit\\n and team work . We will ensure an environment of mutual respect and professionalism\\n throughout .\\nWhy SDA\\nAt SDA , we believe in a unique philosophy toward providing industrial automation\\n services to our clients , backed by an unflinching dedication to its practice . The\\n essence of this is the following :\\n•\\nCommitment to deliver\\nEnter into hassle - free , trust - based and result - oriented relationships with stakeholders\\n Be driven by customer requirements .\"}], 'height': 1651, 'pageNumber': 2, 'pageUrl': 'https://upload.eyelevel.ai/layout/raw/prod/1a31c930-b727-40d8-9b20-0337ff71bd7f/83c07a6b-3a36-4b43-94a1-82290a6f6cd0/2.jpg', 'width': 1275}], 'sourceUrl': 'https://eyelevel-upload.s3.us-west-2.amazonaws.com/prod/file/ssp/78ec21d6-4b9e-4134-8701-5ce963261041/SDA%2B201920%2BProfile.pdf', 'fileSummary': \"This document describes the profile and operations of Smart Drives Automation (SDA), a partnership firm established in 2018. SDA specializes in industrial automation, offering sales and services for products like LV switchgear, programmable logic controllers (PLC), SCADA, HMI, and energy management systems, with a focus on robotics integration. The company is led by two experienced partners, Mr. N.R. Badrinath and Mr. A.R. Rajagopalan, who bring decades of expertise in industrial automation and IT automation, respectively. SDA's mission is to provide high-quality, timely solutions tailored to customer needs, emphasizing professionalism, ethics, and customer satisfaction. The document also outlines the brands SDA works with, such as Schneider, Siemens, ABB, and Mitsubishi, and highlights the company's commitment to delivering innovative, cost-effective solutions.\\n\\nKeywords: Smart Drives Automation, SDA, industrial automation, LV switchgear, PLC, SCADA, robotics integration, energy management, Schneider, Siemens, ABB, Mitsubishi, customer satisfaction, automation services, 2018, N.R. Badrinath, A.R. Rajagopalan.\"}\nDO Not answer any thing other than whats in this context \n",
});

const generationConfig = {
  temperature: 1.6,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "text/plain",
};

app.use(express.json());
app.use(cors());
app.get('/', (req, res) => {
  res.json({message:'hello world'});
})
app.post('/api/chat', async (req, res) => {
  const { input } = req.body;

  try {
    const chatSession = model.startChat({
      generationConfig,
      history: [],
    });
    
    const result = await chatSession.sendMessage(input);

    res.json({ response: result.response.text() });
  } catch (error) {
    console.error(error);
    res.status(500).json({ error: error.message });
  }
});
const PORT=process.env.PORT | 3001;
app.listen(PORT,()=>console.log(`Server Running on Port ${PORT}`));
module.exports = app;
